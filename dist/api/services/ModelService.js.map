{"version":3,"sources":["services/ModelService.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,IAAM,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE5B,IAAM,SAAS,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;;AAEvC,MAAM,CAAC,OAAO,GAAG;;;;AAIf,oBAAkB,EAAE,4BAAU,GAAG,EAAE;;;AAGjC,QAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;AACjC,WAAK,CAAC,GAAG,CAAC,KAAK,CAAC,aAAa,EAAE,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE,wBAAwB,CAAC,CAAC;;AAE5E,aAAO,SAAS,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;KAC9C,MAAM,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;;AAExC,aAAO,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC;KAC1B,MAAM;;AAEH,aAAO,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC;KAC1C;GACF;CACF,CAAC","file":"ModelService.js","sourcesContent":["\"use strict\";\n\nconst _ = require(\"lodash\");\n\nconst pluralize = require('pluralize');\n\nmodule.exports = {\n  /**\n   * Return the type of model acted upon by this request.\n   */\n  getTargetModelName: function (req) {\n    // TODO there has to be a more sails-y way to do this without including external modules\n\n    if (_.isString(req.options.alias)) {\n      sails.log.silly('singularize', req.options.alias, 'to use as target model');\n\n      return pluralize.singular(req.options.alias);\n    } else if (_.isString(req.options.model)) {\n\n      return req.options.model;\n    } else {\n\n        return req.model && req.model.identity;\n    }\n  }\n};\n"]}